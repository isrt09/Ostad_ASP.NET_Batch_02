@model Inventory.App.Models.DashboardViewModel
@{
ViewBag.Title = "Dashboard";
//Layout = "~/Views/_ViewStart.cshtml";
}
<div class="container">
    <div class="row">
        <div class="col-md-12 mb-3 mt-4">
            <div class="card">
                <div class="card-header bg-black">
                    <h3 class="card-title display-4 text-bold">Equipment</h3>
                </div>
                <!-- /.card-header -->
                <div class="card-body table-responsive p-0 table-striped">
                    <table class="table table-hover text-nowrap">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Description</th>
                                <th>Assigned</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var e in Model.Equipments)
                            {
                                <tr>
                                    <td>@e.Name</td>
                                    <td>@e.Description</td>
                                    <td>
                                        @if (e.IsAssigned)
                                        {
                                            var member = Model.Members.FirstOrDefault(m => m.MemberId == e.MemberId);
                                            @member.MemberId
                                        }
                                        else
                                        {
                                            <span>Not Assigned</span>
                                        }
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <!-- /.card-body -->
            </div>
            <!-- /.card -->
        </div>        
    </div>
    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-black">
                    <h3 class="card-title display-4 text-bold text-center">Member</h3>
                </div>
                <div class="card-body table-responsive p-0 table-striped">
                    <table class="table table-hover text-nowrap">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var m in Model.Members)
                            {
                                <tr>
                                    <td>@m.Name</td>
                                    <td>@m.Email</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-black">
                    <h3 class="card-title display-4 text-bold text-center">Assigned</h3>
                </div>
                <div class="card-body table-responsive p-0 table-striped">
                    <table class="table table-hover text-nowrap">
                        <thead>
                            <tr>
                                <th>Member</th>
                                <th>Equipment</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var equipment in Model.Equipments.Where(e => e.IsAssigned))
                            {
                                var member = Model.Members.FirstOrDefault(m => m.MemberId == equipment.MemberId);
                                <tr>
                                    <td>@member.Name</td>
                                    <td>@equipment.Name</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
